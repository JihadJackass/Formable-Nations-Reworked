country_decisions = {

	# Roman Republic Check System
	# - If the nation is a successor state, they must complete a decision-event tree in which the conflicts between the Latins and Greeks are either resolved or worsened
	# - If the nation is in Italy, they must follow a proper path depending 
	# (If they are Venice OR Genoa, they must form Italy, and then Roman Republic for example)
	# - If they are NOT a successor state, OR a claimant to the Roman title, then they must control a reasonable portion of Italy and MUST own Rome and could result in a more uniquly named roman restoration (NOT roman republic).
	# - Nations such as Naples are significantly more difficult due to their advantageous starting position
	# - Eastern and Western Roman Empires can NOT establish the Roman Republic

	dec1_restore_roman_republic_nation = {
		major = yes
		potential = {
			is_former_colonial_nation = no
			is_colonial_nation = no
			NOT = {
				has_global_flag = dec1_historical_nations_only
				has_country_flag = restored_roman_republic_flag
				exists = ROP
				exists = ROM
				tag = ROM # Rome
				tag = ROP # Roman Republic
				tag = HLR # HRE
				tag = PAP # Papal States
				tag = EUR # EU
				tag = KOG # Kingdom of God
				tag = WRE # Western Roman Empire
				tag = ERE # Eastern Roman Empire
				tag = JGE # Jagiellonian
			}
			OR = {
				AND = { # Successor States
					OR = {
						tag = RUS
						tag = TRE
						tag = BYZ
					}
					any_owned_province = {
						area = lazio_area
					}
				}
				AND = { # Italians
				 	OR = {
						culture_group = latin
						capital_scope = { # Must have at least a capital in Italy
							AND = {
								region = italy_region
								ROOT = {
									any_owned_province = {
										region = italy_region
									}
								}
							}
						}
						if = { # Venice Check, must form Italy first with at least 35 provinces
							limit = {
								ITA = { 
									exists = yes
									OR = {
										is_or_was_tag = { tag = VEN } 
										is_or_was_tag = { tag = GEN } 
									}
								}
								num_of_owned_provinces_with = {
									value = 32
									region = italy_region
									is_overseas = no
								}
							}
							# TODO: unique venice roman republic
							NOT = { has_country_flag = restored_roman_republic_flag }
							NOT = { has_country_flag = restored_roman_republic_as_italian_venice_flag }
						}
					}
					any_owned_province = {
						area = lazio_area
					}					
				}
				AND = { # Non-Successor State requirements
					NOT = {
						OR = {
							culture_group = latin
							religion = catholic
							OR = {
								tag = RUS
								tag = TRE
								tag = BYZ
								tag = VEN
								tag = GEN
							}
						}
					}
					num_of_owned_provinces_with = {
						value = 42
						region = italy_region
						is_overseas = no
					}
					any_owned_province = {
						area = lazio_area
					}						
				}
			}
		}
		allow = {
			adm_tech = 10
			NOT = { exists = ROP }
			if = { # If Subject Formables is enabled, then you can form as either Subject or NOT
				limit = {
					has_global_flag = dec1_subject_formable_nations_enabled
				}
				OR = {
					is_subject = yes
					is_subject = no
				}
			}
			if = { # If Subject Formables is not enabled, then you need to NOT be a subject
				limit = {
					NOT = {
						has_global_flag = dec1_subject_formable_nations_enabled
					}
				}
				is_subject = no
			}
			is_at_war = no
			owns = 118 # Must own Rome
			custom_trigger_tooltip = {
			tooltip = form_roman_republic_tt_1
				owns = 118
				owns = 2976
				owns = 119
				owns = 120
				owns = 121
				owns = 2985
				owns = 2983
				owns = 1934
				owns = 1933
				owns = 122
				owns = 2984
				owns = 123
				owns = 2977
				owns = 2978
				owns = 116
				owns = 115
				owns = 117
			}
		}
		effect = {
			# TODO: venice unique formation
			# TODO: successor formation
			# TODO: non-successor formation
			change_tag = ROP # Country TAG
			set_country_flag = restored_roman_republic_flag # Country Formation Flag
			custom_tooltip = form_roman_republic_tt_2 # New Missions
			custom_tooltip = form_roman_republic_tt_3 # Claim on all historical Roman Empire
			custom_tooltip = dec1_decisions_blank
			ROP = { # Capital change and bonuses
				set_capital = 118 # Rome
				118 = {
					add_base_tax = 1
					add_base_production = 1
					add_base_manpower = 1
				}
				# Government Rank Change
				custom_tooltip = dec1_decisions_blank
				custom_tooltip = dec1_government_rank_2
				# Dharma DLC check to prevent ugly tooltip
				if = {
					limit = {
						has_dlc = "Dharma"
					}
					custom_tooltip = dec1_government_change_republic # Government Type Change
				}

				custom_tooltip = dec1_decisions_blank
				# Our Place in the Empire Custom Event
				if = {
					limit = {
						is_part_of_hre = yes
					}
					country_event = { id = dec1_events.1 }
				}
				hidden_effect = { # Hidden Effects to fix bad tooltips
					# Government Type Change
					if = {
						limit = {
							NOT = {
								government = republic
								}
							}
						change_government = republic
					}
					add_government_reform = presidential_despot_reform
					# Government Rank change
					if = {
						limit = {
							NOT = {
								government_rank = 2
								}
							}
						set_government_rank = 2
					}
				}
				# Custom Ideas check and change
				if = {
					limit = {
						has_custom_ideas = no
						NOT = { has_idea_group = ROP_ideas }
					}
					country_event = { id = ideagroups.1 }
				}
				# Custom Missions check and change
				country_event = { id = dec1_events.3 }
				custom_tooltip = dec1_decisions_blank
				# National Ability
				add_country_modifier = {
					name = dec1_the_rebirth_of_the_republic
					duration = 49275
				}
				# Increased Centralization
				add_country_modifier = {
					name = dec1_increased_centralization
					duration = -1
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
		ai_importance = 300
	}

	# TODO: unique papal restoration of the Roman Republic (Can become Napoleonic Roman Republic)
}
